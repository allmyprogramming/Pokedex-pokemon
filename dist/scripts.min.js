let pokemonRepository = function () { let e = []; function o(o) { "object" != typeof o || null === o || Array.isArray(o) ? console.error("Invalid input. Only objects are allowed.") : o.name && o.detailsUrl ? e.push(o) : console.error("Invalid Pok\xe9mon object. Ensure it contains 'name' and 'detailsUrl'.") } function n() { return e } function t(e) { return fetch(e.detailsUrl).then(e => e.json()).then(o => { e.imageUrl = o.sprites.front_default, e.height = o.height, e.types = o.types.map(e => e.type.name) }).catch(e => console.error("Error loading Pok\xe9mon details:", e)) } function r(e) { document.querySelector(".modal-body"); let o = document.querySelector("#loadingSpinner"), n = document.querySelector("#pokemonModalText"), r = document.querySelector("#pokemonModalImage"); o.classList.remove("d-none"), n.classList.add("d-none"), r.classList.add("d-none"), t(e).then(function () { o.classList.add("d-none"), n.classList.remove("d-none"), r.classList.remove("d-none"), n.innerHTML = `Height: ${e.height} m<br>Types: ${e.types.join(", ")}`, r.src = e.imageUrl, r.alt = e.name; document.querySelector("#pokemonModalLabel").innerText = `Details for ${e.name}`; new bootstrap.Modal(document.querySelector("#pokemonModal")).show() }).catch(function (e) { console.error("Error displaying Pok\xe9mon details:", e), o.classList.add("d-none"), n.classList.remove("d-none"), n.innerHTML = "Error loading details. Please try again later." }) } function l(e, o, n) { let t = document.querySelector("#pokemonModalLabel"), r = document.querySelector("#pokemonModalText"), l = document.querySelector("#pokemonModalImage"); t.innerText = e, r.innerHTML = o, l.src = n, l.alt = e; new bootstrap.Modal(document.querySelector("#pokemonModal")).show() } return { add: o, getAll: n, addListItem: function e(o) { let n = document.querySelector(".pokemon-list"), t = document.createElement("li"); t.classList.add("list-group-item", "text-center"); let l = document.createElement("button"); l.innerText = o.name, l.classList.add("btn", "btn-primary", "w-100"), l.addEventListener("click", function () { r(o) }), t.appendChild(l), n.appendChild(t) }, loadList: function e() { return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e => e.json()).then(e => { e.results.forEach(e => { o({ name: e.name, detailsUrl: e.url }) }) }).catch(e => console.error("Error loading Pok\xe9mon list:", e)) }, loadDetails: t, showDetails: r } }(); pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(function (e) { pokemonRepository.addListItem(e) }) });